<!DOCTYPE html>
<html>
    <head>
         <title>LaunMart || Online Shopping</title>
        <meta charset="utf-8">
        
       <!-- <link type="text/css" href="style.css" rel="stylesheet">
        -->
        <script type="text/javascript" src="homeapp.js"></script>
        
        <link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans:wght@700&display=swap" rel="stylesheet">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">


        <!-- jQuery library -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">


        <!-- Popper JS -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        
 
        
        
     <!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.0.2/firebase-app.js"></script>
<!-- The core Firebase JS SDK is always required and must be listed first -->
     <!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.0.2/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.0.2/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.0.2/firebase-firestore.js"></script>

        <link href="https://fonts.googleapis.com/css?family=Oswald|Raleway&display=swap" rel="stylesheet">
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.0/sweetalert.min.js"></script>
        
        <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.5.0/css/all.css' integrity='sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU' crossorigin='anonymous'>


        <!-- Latest compiled JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        
        <style>
            #load, #overlay {
                display:none;
            }
            
            #load {
                top:800px;
                left:150px;
            }
            @media(max-width: 768px){
                
            
            #load {
                top:300px;
                left:0px;
            }
            }
        </style>
        
        </head>
        <body style="font-family:Raleway;">
        
        <div class="w3-overlay w3-animate-opacity"  style="cursor:pointer; z-index:5;" id="overlay"></div>
        
        <div class="container w3-animate-right text-white w3-margin-top w3-center" style="z-index:6; position:fixed; font-family:Raleway;" id="load">
                    <span class="spinner-grow spin text-white">
                    </span><br><br>
                LaunMart <i class="fa fa-shopping-cart"></i>
                </div>
        
<nav class="navbar navbar-expand-md bg-primary navbar-dark sticky-top" style="z-index:4;">
  <!-- Brand -->
  <h3 class="navbar-brand" style="font-family:Raleway;">LaunMart Upload Product <i class="fa fa-plus"></i></h3>
  </nav>
  <br>
              
              
            
      
      
      <br><br>
      <div style="font-family:Raleway;" class="w3-center">
          <button data-toggle="collapse" data-target="#proform" class="btn btn-primary">Upload Product</button>
          <br>
          <form class="container collapse form-group" id="proform">
              <br>
              <div class="container w3-container">
                  <div class="container">
              <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text"><i class="fa fa-gift"></i></span>
    </div>
    <input type="text" class="form-control" id="proName" placeholder="Product Name">
  </div>
</div>
              </div>
              
              
              <div class="container w3-container">
                  <div class="container">
              <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text"><i class="fa fa-building"></i></span>
    </div>
    <input type="text" class="form-control" id="proSeller" placeholder="Company Name">
  </div>
</div>
              </div>
              
              <div class="container w3-container">
                  <div class="container">
              <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text">@</span>
    </div>
    <input type="url" class="form-control" id="proImgUrl1" placeholder="Add Product Image">
  </div>
</div>
              </div>
              
              
              <div class="container w3-container">
                  <div class="container">
              <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text">@</span>
    </div>
    <input type="url" class="form-control" id="proImgUrl2" placeholder="Add Product Image">
  </div>
</div>
              </div>
              
              
              <div class="container w3-container">
                  <div class="container">
              <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text">@</span>
    </div>
    <input type="url" class="form-control" id="proImgUrl3" placeholder="Add Product Image">
  </div>
</div>
              </div>
              
              
              <div class="container w3-container">
                  <div class="container">
              <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text"><i class="fa fa-plus"></i></span>
    </div>
    
    <input type="text" class="form-control" id="proCat" placeholder="Select Product Category" disabled>
    
<div class="dropdown dropleft input-group-append">
  <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
   <!-- <span class="fa fa-caret-down"></span>-->
  </button>
  <div class="dropdown-menu">
    <span class="dropdown-item" onclick="proCatElect()">Electronics</span>
    <span class="dropdown-item" onclick="proCatKit()">Kitchen</span>
    <span class="dropdown-item" onclick="proCatFas()">Fashion</span>
    
    <span class="dropdown-item" onclick="proCatOther()">Other</span>
  </div>
</div>
  </div>
</div>
              </div>
              
              <div class="container w3-container">
                  <div class="container">
              <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text"><i class="fa fa-money-bill-wave"></i></span>
    </div>
    <input type="Number" class="form-control" id="proPrice" placeholder="Product Price">
  </div>
</div>
              </div>
              
              <div class="container w3-container">
                  <div class="container">
              <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text"><i class="fab fa-whatsapp"></i></span>
    </div>
    <input type="Number" class="form-control" id="number" placeholder="WhatsApp contact Number">
  </div>
</div>       
</div>

<div class="container w3-container">
                  <div class="container">
              <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text"><i class="fa fa-car"></i></span>
    </div>
    <input type="text" class="form-control" id="location" placeholder="Address">
  </div>
  </div>
</div>
        <div class="container w3-container">
                  <div class="container">
              <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text">@</span>
    </div>
    <input type="email" class="form-control" id="email" placeholder="Email Contact">
  </div>
</div>

              </div>
              
              <div class="container w3-container">
                  <div class="container">
              <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text"><i class="fa fa-hand-point-right"></i></span>
    </div>
    <textarea rows="4" class="form-control" id="proDes" placeholder="Product Description"></textarea>
  </div>
</div>
              </div>
              
              
              <div class="container w3-center w3-container">
                  <div class="w3-center container">
              <div class="input-group w3-center mb-3">
    <button class="btn btn-primary w3-center" onclick="Upload()" id="upLoad" disabled>Upload</button>
  </div>
</div>
              </div>
          </form>
          
          
          
      </div>
      
      
      
      <!--<div id="products"></div>-->
      
      
  </div>
  
  
  <script>
  
  
          var firebaseConfig = {
    apiKey: "AIzaSyAN-BGvcPmU0-A31Tmu8ZQxGWfBFZ8Q_OY",
    authDomain: "launmart-14731.firebaseapp.com",
    databaseURL: "https://launmart-14731.firebaseio.com",
    projectId: "launmart-14731",
    storageBucket: "launmart-14731.appspot.com",
    messagingSenderId: "951616527792",
    appId: "1:951616527792:web:1dc272e89dc5b1b8a98a75"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore()
  db.settings({timeStampsInSnapshot:true});
      function proCatElect() {
          document.getElementById("proCat").value = "Electronics"
      }
      
      function proCatKit() {
          document.getElementById("proCat").value = "Kitchen"
      }
      
      function proCatFas() {
          document.getElementById("proCat").value = "Fashion"
      }
      
      function proCatOther() {
          document.getElementById("proCat").value = "Other"
      }
      document.getElementById("upLoad").addEventListener("click", (e) => {
          
          e.preventDefault()
      })
      
      setInterval(() => {
          var proBtn = 
      document.getElementById("upLoad")
          var proName = document.getElementById("proName").value
          var proImgUrl1 = document.getElementById("proImgUrl1").value
          var proImgUrl2 = document.getElementById("proImgUrl2").value
          var proImgUrl3 = document.getElementById("proImgUrl3").value
          var proCat = document.getElementById("proCat").value
          var proPrice = document.getElementById("proPrice").value
          var proEmail = document.getElementById("email").value
          var proSeller = document.getElementById("proSeller").value
          var proSellerLoc = document.getElementById("location").value
          
          var proNum = document.getElementById("number").value
          var proDes = document.getElementById("proDes").value
          
          if(proName!="" && proImgUrl1!="" && proImgUrl2!="" && proImgUrl3!="" && proCat!="" && proPrice!="" && proEmail!="" && proNum!="" && proSellerLoc!="" && proSeller!="" && proDes!="") {
              proBtn.disabled = false
          }
          else {
              proBtn.disabled = true
          }
      }, 100)
      
      function Upload() {
          var overlay = document.getElementById("overlay")
          var load = document.getElementById("load")
          overlay.style.display = "block"
          load.style.display = "block"
          var proName = document.getElementById("proName").value
          var proImgUrl1 = document.getElementById("proImgUrl1").value
          var proImgUrl2 = document.getElementById("proImgUrl2").value
          var proImgUrl3 = document.getElementById("proImgUrl3").value
          var proCat = document.getElementById("proCat").value
          var proPrice = document.getElementById("proPrice").value
          var proSeller = document.getElementById("proSeller").value
          var proEmail = document.getElementById("email").value
          var proSellerLoc = document.getElementById("location").value
          
          var proNum = document.getElementById("number").value
          var proDes = document.getElementById("proDes").value
          db.collection("products").add({
              proName: proName,
              proImgUrl1: proImgUrl1,
              proImgUrl2: proImgUrl2,
              proImgUrl3: proImgUrl3,
              proCat: proCat,
              proPrice: proPrice,
              proEmail: proEmail,
              proNum: proNum,
              proSellerLoc: proSellerLoc,
              proSeller: proSeller,
              proDes: proDes
          }).then(() => {
              swal({
                  text:"Product added successfully",
                  icon: "success"
              })
          document.getElementById("proName").value = ""
          var proImgUrl1 = document.getElementById("proImgUrl1").value = ""
          var proImgUrl2 = document.getElementById("proImgUrl2").value = ""
          var proImgUrl3 = document.getElementById("proImgUrl3").value = ""
          document.getElementById("proCat").value = ""
          var proPrice = document.getElementById("proPrice").value = ""
          var proEmail = document.getElementById("email").value = ""
          var proSellerLoc = document.getElementById("location").value = ""
          
          var proSeller = document.getElementById("proSeller").value = ""
          var proNum = document.getElementById("number").value = ""
          document.getElementById("proDes").value = ""
          overlay.style.display = "none"
          load.style.display = "none"
          }).catch((error) => {
              swal({
              text: "An Error Occurred while uploading the product. please try again",
              icon:"error"
              })
              
          overlay.style.display = "none"
          load.style.display = "none"
          })
          console.log(proName+proImgUrl+proCat+proNomPrice+proSellPrice+proDes)
      }
  
  
  
/*  db.collection("products").get().then((snapshot) => {
      snapshot.docs.forEach(doc => {
          console.log(doc.data())
          renderDoc(doc)
      })
  })
  
  
  function renderDoc(doc) {
      var Products = document.querySelector("#products");
      
      pro = ""
      pro += "<div onclick='tap(this);' data-id='" + doc.id + "'>"
      pro += "<p>"
      pro += doc.data().proName
      pro += "</p>"
      pro += ": " + doc.data().proSellPrice
      pro += "</div>"
      Products.innerHTML += pro
      
      
  }
  
  function tap(self) {
      let id = self.getAttribute('data-id');
      console.log(id)
      db.doc("products/" + id).get().then((doc) => {
          console.log(doc.data().proCat)
      })
  }*/
  </script>
        
        </body>
        
    </html>
